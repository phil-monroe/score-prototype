<% content_for :javascript do %>
  <%= javascript_include_tag 'candidate' %>
<% end %>

<% content_for :header do %>
  <a class="btn" data-toggle="modal" href="#myModal" style="float:right;">How to play</a>

  <div class="modal" id="myModal" style="display: none; ">
    <div class="modal-header">
      <a class="close" data-dismiss="modal">Ã—</a>
      <h3>How to play</h3>
    </div>
    <div class="modal-body">
      The objective of the game is to Maximize your score at all times!</br>
      <ul id="fancy">
        <li>Your score goes from 0 to 100 and is subdivided into pillars.</li>
        <li>Each pillar has a different % of the total score, which is not revealed. These percentages could change at any moment.</li>
        <li>Each pillar's score is increased if you perform an action related to that pillar (for example, clicking A1 increases your A pillar score for that round).</li>
        <li>You have a limited number of actions to perform per round. At the end of every round (10 seconds long), your energy bar refills.</li>
        <li>The contributions window lets you know how much each pillar contributed to your score in the previous round.</li>
        <li>Use the information in the contributions window to decide where to spend your energy in the next round!</li>  </div>
      </ul>
    <div class="modal-footer">
      <a href="#" class="btn" data-dismiss="modal">Close</a>
    </div>
  </div>
<% end %>


<div class="row">
  <div id="candidate" class="span12" data-json="<%= @candidate.to_json %>">
    loading...
  </div>
</div>



<div class="row">
  <div class="span6">
    <h3>Events<span id="countdown"></span></h3>
    <div id="energy"></div>
    <ul id="available_events">
      loading...
    </ul>
  </div>
  
  <div class="span6">
    <h3>Contributions</h3>
    <div id="score-history">Waiting for computation</div>
  </div>
</div>

<div class="row">
  <div class="span12">
    <h3>Score History</h3>
    <div id="avg-score-history" style="width:100%;height:300px; clear:both;">Waiting for computation</div>
  </div>
  
</div>


